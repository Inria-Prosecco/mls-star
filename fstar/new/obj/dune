(library
 (name core)
 (public_name mls.core)
 (wrapped false)
 (modes byte native)
 (libraries mls.haclml)
 (modules :standard \
   MLS_Test
   MLS_Test_CommitTranscript
   MLS_Test_Encryption
   MLS_Test_Equality
   MLS_Test_KeySchedule
   MLS_Test_Reader
   MLS_Test_TreeKEM
   MLS_Test_TreeMath
   MLS_Test_Types
   MLS_Test_Utils))

(test
 (name MLS_Test)
 (modes native)
 (libraries mls.core yojson)
 (modules
   MLS_Test
   MLS_Test_CommitTranscript
   MLS_Test_Encryption
   MLS_Test_Equality
   MLS_Test_KeySchedule
   MLS_Test_Reader
   MLS_Test_TreeKEM
   MLS_Test_TreeMath
   MLS_Test_Types
   MLS_Test_Utils))

(env
  (dev (flags
    :standard
    -safe-string
    -g
    -w -8-9-33-20-21-26-27-39
  ))
  (release (flags
    :standard
    -safe-string
    -g
    -w -8-9-33-20-21-26-27-39
  )))
